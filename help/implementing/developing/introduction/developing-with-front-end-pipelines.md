---
title: 프론트엔드 파이프라인으로 Sites 개발
description: 프런트엔드 파이프라인을 통해 프런트엔드 개발자에게 더 많은 독립성이 부여되며, 개발 프로세스를 통해 상당한 속도를 향상시킬 수 있습니다. 이 문서에서는 제공해야 하는 프런트 엔드 빌드 프로세스의 몇 가지 특정 고려 사항에 대해 설명합니다.
exl-id: 996fb39d-1bb1-4dda-a418-77cdf8b307c5
source-git-commit: 868382c37c3744642e96353aecfc4369105a42ec
workflow-type: tm+mt
source-wordcount: '1157'
ht-degree: 1%

---


# 프론트엔드 파이프라인으로 Sites 개발 {#developing-site-with-front-end-pipeline}

[프런트엔드 파이프라인을 통해](/help/implementing/cloud-manager/configuring-pipelines/introduction-ci-cd-pipelines.md#front-end) 프런트 엔드 개발자에게 더 많은 독립성이 부여되며 개발 프로세스는 상당한 속도를 얻을 수 있습니다. 이 문서에서는 이 프로세스의 잠재력을 최대한 활용하기 위해 몇 가지 고려 사항과 함께 이 프로세스가 작동하는 방식을 설명합니다.

>[!TIP]
>
>프런트엔드 파이프라인의 사용 방법과 이 파이프라인이 가져올 수 있는 이점을 아직 잘 모를 경우, [빠른 사이트 만들기 여정](/help/journey-sites/quick-site/overview.md) 백 엔드 개발과는 완전히 독립적으로 새 사이트를 신속하게 배포하고 해당 테마를 사용자 지정하는 방법에 대한 예입니다.

## 프런트 엔드 빌드 계약 {#front-end-build-contract}

와 비슷합니다 [전체 스택 빌드 환경,](/help/implementing/cloud-manager/getting-access-to-aem-in-cloud/build-environment-details.md) 프런트 엔드 파이프라인에는 자체 환경이 있습니다. 개발자는 다음의 프런트 엔드 빌드 계약을 준수하는 한 이 파이프라인에서 약간의 유연성을 얻을 수 있습니다.

프런트엔드 파이프라인을 사용하려면 프런트 엔드 Node.js 프로젝트가 필요합니다 `build` 프런트엔드 파이프라인에 의해 배포되는 빌드를 생성하는 스크립트 지시문입니다. 즉, Cloud Manager는 명령을 사용합니다 `npm run build` 배포 가능한 프로젝트를 `dist` 폴더를 입력합니다.

의 컨텐츠 `dist` 폴더는 Cloud Manager 파이프라인에서 AEM as a Cloud Service에 배포되는 것입니다.

### 노드 버전 {#node-versions}

기본적으로 프런트 엔드 파이프라인은 노드 14를 사용하지만, 16과 16도 사용할 수 있습니다.

를 사용할 수 있습니다 `CM_CUSTOM_VAR_NODE_VERSION` 환경 변수를 사용하십시오.

## 단일 진실 {#single-source-of-truth}

일반적으로 좋은 방법은 AEM에 배포된 사항에 대한 단일 진실 소스를 유지하는 것입니다. Cloud Manager의 목표는 이러한 단일 진실을 명확하게 하는 것입니다. 그러나 프런트 엔드 파이프라인이 코드 부분에 대한 위치를 분리할 수 있으므로 몇 가지 추가 책임은 프런트 엔드 파이프라인의 올바른 설정에 있습니다. 동일한 환경에서 동일한 사이트에 배포하는 여러 프런트 엔드 파이프라인을 만들지 않도록 주의해야 합니다.

이러한 이유로, 특히 여러 프런트 엔드 파이프라인이 생성될 때 다음과 같은 체계적인 이름 지정 규칙을 유지하는 것이 좋습니다.

* 에 의해 정의된 프런트 엔드 모듈의 이름입니다. `name` 속성 `package.json` 파일에적용되는사이트 이름을 포함해야 합니다. 예를 들어 `/content/wknd`, 프런트엔드 모듈의 이름은 다음과 같습니다 `wknd-theme`.
* 프런트 엔드 모듈이 동일한 Git 리포지토리를 다른 모듈과 공유하는 경우 해당 폴더 이름은 프런트 엔드 모듈과 동일하거나 동일한 이름을 포함해야 합니다. 예를 들어, 프런트엔드 모듈의 이름이 `wknd-theme`와 같은 형식으로 되어 있습니다 `wknd-theme-sources`.
* Cloud Manager 프런트엔드 파이프라인의 이름에도 프런트엔드 모듈의 이름이 포함되어야 하며, 배포되는 환경(프로덕션 또는 개발)도 추가해야 합니다. 예를 들어, 이름이 인 프런트엔드 모듈의 경우 `wknd-theme`, 파이프라인의 이름은 다음과 유사할 수 있습니다. `wknd-theme-prod`.

이러한 규칙은 다음 배포 오류를 효율적으로 방지해야 합니다.

* 잘못된 사이트에 프런트 엔드 모듈 적용
* 서로 덮어쓰는 동일한 사이트를 적용하는 여러 프런트 엔드 모듈을 만듭니다.
* 동일한 소스에 대해 여러 프런트엔드 파이프라인을 생성하는 경우, 이 경우 구축 순서를 보장하지 않고 경합 조건이 발생할 수 있습니다.

## 문제 분리 {#separation-of-concerns}

관심사 분리에 적용되는 또 다른 좋은 방법은 문제를 분리하는 계약이 어떻게 설계되고 관리되는지에 특별한 주의를 기울이는 것입니다. 프런트 엔드 파이프라인의 경우, 해당 코드를 나머지 코드와 분리하는 계약은 HTML 및 JSON이 사이트에서 렌더링합니다. 해당 HTML과 JSON이 안정적인 상태를 유지하는 경우 프런트 엔드 파이프라인은 프런트 엔드 팀을 완전히 독립적으로 만들어 최대 가치를 전달합니다.

현재 전체 스택 파이프라인을 프런트 엔드 파이프라인과 동기식으로 실행하는 특정 기능은 없습니다. 이러한 이유로 프런트 엔드 개발을 전체 스택 파이프라인과 분리할 때 이러한 두 가지 관심 영역을 구분하는 계약에 추가 주의가 있어야 합니다. 일반적으로 해당 계약은 Experience Manager이 렌더링하는 HTML 및/또는 JSON입니다. 따라서 해당 계약에 대한 변경은 해당 변경 사항의 시퀀스 지정 방법에 동의하도록 서로 다른 파이프라인을 운영하는 팀 간에 잘 계획되어야 합니다.

일반적으로 다음 단계는 두 문제의 영역에 모두 영향을 주는 HTML 및/또는 JSON 출력을 변경해야 할 때 권장됩니다.

1. 백엔드 팀은 먼저 새 HTML 및/또는 JSON 출력을 사용하여 개발 환경을 설정합니다.
   1. 전체 스택 파이프라인을 통해 원하는 새 HTML 및/또는 JSON 출력을 렌더링하는 데 필요한 코드를 배포합니다.
   1. 프런트엔드 팀이 이전에 액세스할 수 없었던 환경의 경우, 다음 단계를 수행해야 합니다.
      1. URL: 프런트 엔드 팀은 해당 개발 환경의 URL을 알고 있어야 합니다.
      1. ACL: 프런트엔드 팀에는 &quot;기여자&quot; 권한과 유사한 권한이 있는 로컬 AEM 사용자가 부여되어야 합니다.
      1. Git: 프런트 엔드 팀에는 해당 개발 환경을 특별히 타깃팅하는 프런트 엔드 모듈에 대해 별도의 Git 위치가 있어야 합니다.
         * 일반적인 방법은 `dev` 그런 다음 개발 환경에 대해 수행된 변경 사항을 쉽게 다시 브랜치로 병합할 수 있습니다. `main` 프로덕션 환경에 배포할 분기입니다.
      1. 파이프라인: 프런트 엔드 팀에는 개발 환경에 배포되는 프런트 엔드 파이프라인이 있어야 합니다. 이 파이프라인은 일반적으로 `dev` 분기 를 참조하십시오.
1. 그러면 프런트 엔드 팀이 CSS 및 JS 코드가 이전 출력과 새 출력 모두에서 작동하도록 합니다.
   1. 평소대로 로컬에서 개발하려면
      1. 다음 `npx aem-site-theme-builder proxy` 프런트 엔드 모듈 내에서 실행된 명령은 AEM 환경에서 컨텐츠를 요청하는 프록시 서버를 시작하고 프런트 엔드 모듈의 CSS 및 JS 파일을 로컬 모듈의 파일로 바꿉니다 `dist` 폴더를 입력합니다.
      1. 구성 `AEM_URL` 숨겨진 변수의 변수 `.env` 파일을 사용하면 로컬 프록시 서버에서 컨텐츠를 사용하는 AEM 환경을 제어할 수 있습니다.
      1. 이 값의 변경 `AEM_URL` 따라서 에서는 두 환경에 모두 맞도록 CSS와 JS를 조정하기 위해 프로덕션 환경과 개발 환경 간을 전환할 수 있습니다.
      1. 새 출력을 렌더링하는 개발 환경과 이전 출력을 렌더링하는 프로덕션 환경에서 작업해야 합니다.
   1. 프런트 엔드 작업은 업데이트된 프런트 엔드 모듈이 두 환경에 모두 작동하면 완료되며 두 환경에 배포됩니다.
1. 그런 다음 백엔드 팀은 전체 스택 파이프라인을 통해 새 HTML 및/또는 JSON 출력을 렌더링하는 코드를 배포하여 프로덕션 환경을 업데이트할 수 있습니다.
1. 그러면 프런트 엔드 팀은 CSS 및 JS를 정리하고 이전 출력에 대해서만 필요한 사항을 제거하여 프런트 엔드 파이프라인을 통해 프로덕션에 마지막 업데이트를 배포할 수 있습니다.

## 추가 리소스 {#additional-resources}

* [사이트 테마](/help/sites-cloud/administering/site-creation/site-themes.md) - AEM 사이트 테마를 사용하여 사이트의 스타일 및 디자인을 사용자 지정하는 방법을 알아봅니다.
* [AEM 사이트 테마 빌더](https://github.com/adobe/aem-site-theme-builder) - Adobe은 새 사이트 테마를 만들기 위한 스크립트 세트로 AEM 사이트 테마 빌더를 제공합니다.
