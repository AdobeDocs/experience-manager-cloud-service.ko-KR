---
title: 핵심 구성 요소 기반 양식의 양식 서비스 VRE 호출 개선 사항은 무엇입니까?
description: 규칙 편집기용 호출 서비스 개선 사항
feature: Adaptive Forms, Core Components
role: User, Developer
level: Beginner, Intermediate
keywords: VRE에서 서비스 개선 사항 호출, 호출 서비스를 사용하여 드롭다운 옵션 채우기, 호출 서비스의 출력을 사용하여 반복 가능 패널 설정, 호출 서비스의 출력을 사용하여 패널 설정, 다른 필드의 유효성을 검사하기 위해 호출 서비스의 출력 매개 변수 사용.
exl-id: 2ff64a01-acd8-42f2-aae3-baa605948cdd
source-git-commit: ff06dbd86c11ff5ab56b3db85d70016ad6e9b981
workflow-type: tm+mt
source-wordcount: '1800'
ht-degree: 1%

---

# 핵심 구성 요소에서 외부 API와 시각적 규칙 편집기 통합 사용 Forms

적응형 양식의 시각적 규칙 편집기는 인스턴스에 대해 구성된 양식 데이터 모델(FDM)을 통해 외부 API에 연결할 수 있는 **서비스 호출** 기능을 지원합니다. 양식 필드를 서비스의 입력 매개 변수에 직접 매핑하고 이벤트 페이로드 옵션을 사용하여 출력 매개 변수를 매핑할 수 있습니다. 또한 시각적 규칙 편집기를 사용하여 서비스의 응답을 기반으로 성공 및 실패 처리기에 대한 규칙을 정의할 수 있습니다. 성공 처리기는 성공적인 API 호출을 처리하고 실패 처리기는 오류를 관리합니다.

이렇게 하면 양식에서 API 요청을 쉽게 전송하고 API 응답을 처리하며 반환된 데이터를 양식 내에 동적으로 표시하거나 사용할 수 있습니다. 적응형 양식과 외부 시스템 또는 데이터 소스 간의 원활한 통합을 보장합니다.


## 양식 규칙 편집기에서 서비스 호출 사용의 이점

다음은 광고 양식의 규칙 편집기에서 서비스 호출 작업을 사용할 때의 몇 가지 장점입니다.

* **간소화된 API 통합**: 시각적 규칙 편집기를 사용하면 외부 서비스 또는 API를 적응형 Forms에 통합하는 프로세스를 간소화할 수 있습니다. **서비스 호출**&#x200B;을 사용하면 복잡한 코딩을 사용하지 않고도 양식을 다양한 데이터 원본 및 서비스에 쉽게 연결할 수 있으므로 양식 통합이 보다 효율적입니다.

* **동적 응답 처리**: **서비스 호출**&#x200B;의 출력 응답을 기반으로 성공 및 오류 응답을 관리할 수 있으므로 양식이 다른 시나리오에 동적으로 반응할 수 있습니다. 폼이 다양한 조건을 적절히 처리하도록 하여 유연성과 제어력을 향상시킵니다.

* **향상된 사용자 상호 작용**: 규칙 편집기에서 **서비스 호출**&#x200B;을 사용하면 양식 내에서 실시간 유효성 검사가 가능하므로 더 나은 사용자 경험을 제공할 수 있습니다. 또한 서버 측에서 데이터가 정확하게 검증되도록 하여 오류를 줄이고 양식 안정성을 향상시킵니다.

## 성공 및 실패 응답에 대한 서비스 핸들러 호출

>[!NOTE]
>
> 핵심 구성 요소를 기반으로 하는 양식에만 **서비스 호출** 성공 및 실패 처리기를 사용할 수 있습니다. 기초 구성 요소를 기반으로 하는 Forms은 **서비스 호출** 성공 및 실패 처리기를 지원하지 않습니다.

시각적 규칙 편집기를 사용하면 출력 응답을 기반으로 **서비스 호출** 작업의 성공 및 실패 처리기에 대한 규칙을 만들 수 있습니다. 아래 이미지는 적응형 양식에 대한 시각적 규칙 편집기의 **서비스 호출**&#x200B;을 보여 줍니다.

![서비스 처리기 호출](/help/forms/assets/invoke-service-rule-editor.png)

성공 또는 실패 처리기를 추가하려면 각각 **[!UICONTROL 성공 처리기 추가]** 또는 **[!UICONTROL 실패 처리기 추가]**&#x200B;를 클릭합니다.

**[!UICONTROL 성공 처리기 추가]**&#x200B;를 클릭하면 **[!UICONTROL 서비스 성공 처리기 호출]** 규칙 편집기가 나타나며, 작업이 성공할 때 **서비스 호출** 출력 응답을 관리할 규칙이나 논리를 지정할 수 있습니다. 조건을 정의하지 않고도 규칙을 지정할 수 있지만 **[!UICONTROL 조건 추가]** 옵션을 클릭하여 성공 처리기에 대한 조건을 추가할 수 있습니다.

![서비스 성공 처리기 호출](/help/forms/assets/invoke-service-success-handler.png)

**서비스 호출** 작업에 대한 성공적인 응답을 처리하기 위해 여러 규칙을 추가할 수 있습니다.

![여러 성공 처리기](/help/forms/assets/invoke-service-multiple-success-handlers.png){width=50%, height=50%}

마찬가지로 작업이 실패할 경우 **서비스 호출** 출력 응답을 처리하는 규칙을 추가할 수 있습니다. 아래 그림에는 **[!UICONTROL 서비스 오류 처리기 호출]** 규칙 편집기가 표시됩니다.

![서비스 오류 처리기 호출](/help/forms/assets/invoke-service-failue-handler.png)

**서비스 호출** 작업에서 실패한 응답을 처리하기 위해 여러 규칙을 추가할 수도 있습니다.

**서버에서 오류 유효성 검사 사용** 기능을 사용하면 작성자가 서버에서 실행할 적응형 양식을 디자인하는 동안 추가한 유효성 검사를 사용할 수 있습니다.

## 규칙 편집기에서 서비스 호출을 사용하기 위한 사전 요구 사항

규칙 편집기에서 **서비스 호출**&#x200B;을 사용하기 전에 충족해야 하는 필수 구성 요소는 다음과 같습니다.

* 데이터 소스를 구성했는지 확인하십시오. 데이터 원본 구성에 대한 지침을 보려면 [여기를 클릭](/help/forms/configure-data-sources.md)하세요.
* 구성된 데이터 소스를 사용하여 양식 데이터 모델을 만듭니다. 양식 데이터 모델을 만드는 방법에 대한 지침을 보려면 [여기를 클릭](/help/forms/create-form-data-models.md)하세요.
* 사용자 환경에 대해 핵심 구성 요소가 활성화되었는지 확인합니다. AEM Cloud Service 환경에 대한 적응형 Forms 핵심 구성 요소를 활성화하려면 최신 파트를 설치하십시오.

## 다양한 사용 사례를 통한 서비스 호출 탐색

시각적 규칙 편집기의 **서비스 호출**&#x200B;을(를) 사용하면 몇 가지 유용한 작업을 수행할 수 있습니다. 이를 사용하여 드롭다운 옵션을 채우고, 반복 가능한 패널 또는 단순 패널을 설정하고, 양식 필드를 확인하는 데 사용할 수 있습니다. 모두 **서비스 호출**&#x200B;의 출력 응답을 기반으로 합니다. 따라서 양식의 유연성과 상호 작용성을 향상시킵니다.

아래 표에서는 **서비스 호출**&#x200B;을 사용할 수 있는 몇 가지 시나리오에 대해 설명합니다.

| **사용 사례** | **설명** |
|----------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| **서비스 호출 출력을 사용하여 드롭다운 옵션 채우기** | 서비스 호출 출력에서 검색된 데이터를 기반으로 드롭다운 옵션을 동적으로 채웁니다. 구현을 보려면 [여기를 클릭하세요](#use-case-1-populate-dropdown-values-using-the-output-of-invoke-service). |
| **Invoke Service의 출력을 사용하여 반복 가능한 패널 설정** | 서비스 호출 출력의 데이터를 사용하여 반복 가능한 패널을 구성하여 동적 패널을 허용합니다. 구현을 보려면 [여기를 클릭하세요](#use-case-2-set-repeatable-panel-using-output-of-invoke-service). |
| **호출 서비스의 출력을 사용하여 패널 설정** | 서비스 호출 출력의 특정 값을 사용하여 패널의 내용 또는 가시성을 설정합니다. 구현을 보려면 [여기를 클릭하세요](#use-case-3-set-panel-using-output-of-invoke-service). |
| **Invoke Service의 출력 매개 변수를 사용하여 다른 필드의 유효성을 검사합니다** | 서비스 호출의 특정 출력 매개 변수를 사용하여 양식 필드의 유효성을 검사합니다. 구현을 보려면 [여기를 클릭하세요](#use-case-4-use-output-parameter-of-invoke-service-to-validate-other-fields). |
| **Invoke Service의 Navigate To Action에서 이벤트 페이로드를 사용합니다** | 이벤트 페이로드를 사용하여 성공 및 실패 응답을 처리하고 탐색 중 다음으로 이동 작업에 데이터를 전달합니다. 구현을 보려면 [여기를 클릭](#use-case-5-use-event-payload-in-navigate-to-action-in-invoke-service)하세요. |

`Get Information` 텍스트 상자에 입력한 입력을 기반으로 값을 검색하는 `Pet ID` 양식을 만듭니다. 아래 스크린샷은 이러한 사용 사례에 사용된 양식을 보여 줍니다.

![정보 양식 가져오기](/help/forms/assets/get-information-form.png)

**양식 필드**

양식에 다음 필드를 추가합니다.

* **Pet ID 입력**: 텍스트 상자
* **사진 URL 선택**: 드롭다운
* **태그**: 패널
   * 이름: 텍스트 상자
   * ID: 텍스트 상자
* **범주**: 패널
   * 이름: 텍스트 상자
* **전송**: 전송 단추

>[!NOTE]
>
> 양식 필드의 **속성** 대화 상자에 있는 **바인딩 참조** 필드에서 ![foldersearch_18](assets/folder-search-icon.svg)을(를) 선택하고 FDM(양식 데이터 모델)에서 추가한 이진 속성을 선택하여 이동합니다.

**패널 구성**

다음 제약 조건을 사용하여 패널을 반복으로 설정합니다.

* 최소값: 1
* 최대값: 4

요구 사항에 맞게 반복 패널의 값을 조정할 수 있습니다.

**데이터 원본**

이 예제에서는 [Swagger Petstore](https://petstore.swagger.io/) API를 사용하여 데이터 소스를 구성합니다. 입력한 ID를 기반으로 pet 세부 정보를 검색하는 [getPetById](/help/forms/create-form-data-models.md) 서비스에 대해 [양식 데이터 모델](https://petstore.swagger.io/#/pet/getPetById)이(가) 구성되어 있습니다.

[Swagger Petstore](https://petstore.swagger.io/#/pet/addPet) API에서 [addPet](https://petstore.swagger.io/) 서비스를 사용하여 다음 JSON을 게시해 보겠습니다.

```
{
        "id": 101,
        "category": {
            "id": 1,
            "name": "Labrador"
        },
        "name": "Lisa",
        "photoUrls": [
            "https://example.com/photos/lisa1.jpg",
            "https://example.com/photos/lisa2.jpg"
        ],
        "tags": [
            {
                "id": 1,
                "name": "vaccinated"
            },
            {
                "id": 2,
                "name": "friendly"
            },
            {
                "id": 3,
                "name": "house-trained"
            }
        ],
        "status": "available"
    }
```

규칙과 논리는 **텍스트 상자의 규칙 편집기에서**&#x200B;서비스 호출`Pet ID` 작업을 사용하여 구현하여 언급된 사용 사례를 보여 줍니다.

이제 각 사용 사례의 구현에 대해 자세히 살펴보겠습니다.

### 사용 사례 1: 서비스 호출 출력을 사용하여 드롭다운 값 채우기

이 사용 사례에서는 `Invoke Service`의 출력을 기반으로 드롭다운 옵션을 동적으로 채우는 방법을 보여 줍니다.

#### 구현

이렇게 하려면 `Pet ID` 텍스트 상자에 규칙을 만들어 `getPetById` 서비스를 호출하십시오. 규칙에서 `enum`성공 처리기 추가`photo-url`에서 `photoUrls` 드롭다운의 **[!UICONTROL 속성을]**(으)로 설정합니다.

![드롭다운 값 설정](/help/forms/assets/set-dropdownoption.png)

#### 출력

`101` 텍스트 상자에 `Pet ID`을(를) 입력하여 입력한 값에 따라 드롭다운 옵션을 동적으로 채웁니다.

![결과](/help/forms/assets/output1.png)

### 사용 사례 2: 호출 서비스의 출력을 사용하여 반복 가능한 패널 설정

이 사용 사례에서는 **Invoke 서비스**&#x200B;의 출력을 기반으로 반복 가능한 패널을 동적으로 채우는 방법을 보여 줍니다.

#### 고려 사항

* 반복 가능한 패널의 이름이 패널을 설정할 **서비스 호출**&#x200B;의 매개 변수와 일치하는지 확인하십시오.
* 패널은 해당 **서비스 호출** 필드에서 반환된 값 수에 대해 반복됩니다.

#### 구현

`Pet ID` 텍스트 상자에 `getPetById` 서비스를 호출하는 규칙을 만듭니다. **[!UICONTROL 성공 처리기 추가]**&#x200B;에서 다른 성공 처리기 응답을 추가합니다. 규칙에서 `tags` 패널의 값을 `tags`(으)로 설정합니다.

![반복 가능한 패널에 대한 규칙 만들기](/help/forms/assets/create-rule-repeatable-panel.png)

#### 출력

`101` 텍스트 상자에 `Pet ID`을(를) 입력하여 입력 값을 기반으로 반복 가능한 패널을 동적으로 채웁니다.

![출력](/help/forms/assets/output2.png)

### 사용 사례 3: 호출 서비스의 출력을 사용하여 패널 설정

이 사용 사례에서는 **서비스 호출**&#x200B;의 출력을 기반으로 패널의 값을 동적으로 설정하는 방법을 보여 줍니다.

#### 고려 사항

* 패널 이름이 패널을 설정할 **서비스 호출**&#x200B;의 매개 변수와 일치하는지 확인하십시오.
* 패널은 해당 서비스 호출 필드에서 반환되는 값 수에 대해 반복됩니다.

#### 구현

`Pet ID` 텍스트 상자에 `getPetById` 서비스를 호출하는 규칙을 만듭니다. **[!UICONTROL 성공 처리기 추가]**&#x200B;에서 다른 성공 처리기 응답을 추가합니다. 규칙에서 `categoryname` 텍스트 상자의 값을 `category.name`(으)로 설정합니다.

![반복 가능한 패널에 대한 규칙 만들기](/help/forms/assets/set-panel-values.png)

#### 출력

`101` 텍스트 상자에 `Pet ID`을(를) 입력하여 입력 값에 따라 패널을 동적으로 채웁니다.

![출력](/help/forms/assets/output3.png)

### 사용 사례 4: 다른 필드의 유효성을 검사하기 위해 서비스 호출의 출력 매개 변수 사용

이 사용 사례에서는 **서비스 호출**&#x200B;의 출력을 사용하여 다른 양식 필드의 유효성을 동적으로 검사하는 방법을 보여 줍니다.

#### 구현

`Pet ID` 텍스트 상자에 `getPetById` 서비스를 호출하는 규칙을 만듭니다. **[!UICONTROL 오류 처리기 추가]**&#x200B;에서 오류 처리기 응답을 추가합니다. 잘못된 **을(를) 입력한 경우**&#x200B;제출`Pet ID` 단추를 숨깁니다.

![실패 처리기](/help/forms/assets/create-rule-failure-handler.png)

#### 출력

`102` 텍스트 상자에 `Pet ID`을(를) 입력하면 **제출** 단추가 숨겨집니다.

![출력](/help/forms/assets/output4.png)

### 사용 사례 5: 서비스 호출에서 탐색의 동작 이벤트 페이로드 사용

이 사용 사례에서는 **서비스 호출**&#x200B;을 호출한 다음 **다음으로 이동** 작업을 사용하여 사용자를 다른 페이지로 리디렉션하는 **전송** 단추에 규칙을 구성하는 방법을 보여 줍니다.

#### 구현

**제출** 단추에 규칙을 만들어 `redirect-api` API 서비스를 호출합니다. 이 서비스는 사용자를 **연락처** 양식으로 리디렉션하는 역할을 합니다.

아래에 제공된 JSON 데이터를 사용하여 `redirect-api` API 서비스로서의 API를 규칙 편집기에 직접 통합할 수 있습니다.

```json
{
  "id": "1",
  "path": "/content/dam/formsanddocuments/contact-detail/jcr:content?wcmmode=disabled"
}
```

>[!NOTE]
>
> 규칙 편집기 인터페이스에서 직접 API를 통합하는 방법에 대해 알아보려면 미리 정의된 양식 데이터 모델을 사용하지 않고 [여기를 클릭](/help/forms/api-integration-in-rule-editor.md)하십시오.

**[!UICONTROL 성공 처리기 추가]**&#x200B;에서 **다음으로 이동** 작업을 구성하여 **매개 변수를 사용하여 사용자를**&#x200B;문의하기`Event Payload` 페이지로 리디렉션합니다. 여기에서 사용자는 연락처 세부 정보를 제출할 수 있습니다.

![이벤트 페이로드](/help/edge/docs/forms/assets/navigate-to-eventpayload.png)

선택적으로 서비스 호출이 실패할 경우 오류 메시지를 표시하도록 오류 핸들러를 구성합니다.

#### 출력

**제출** 단추를 클릭하면 `redirect-api` API 서비스가 호출됩니다. 성공하면 사용자가 **문의하기** 페이지로 리디렉션됩니다.

![이벤트 페이로드 출력](/help/forms/assets/output5.gif)

## 자주 묻는 질문

**Q: 호출 서비스를 사용하여 규칙을 만든 다음 핵심 구성 요소의 최신 버전으로 업그레이드하면 어떻게 됩니까?**

**A:** 핵심 구성 요소의 최신 버전으로 업그레이드할 때 **서비스 호출** 규칙은 이전 버전과 호환되므로 최신 사용자 인터페이스로 자동 업데이트됩니다.

**Q: 서비스 호출 작업에 대한 성공 또는 실패 응답을 처리하기 위해 여러 규칙을 추가할 수 있습니까?**

**A:** 예, **서비스 호출** 작업에 대한 성공 또는 실패 응답을 처리하는 여러 규칙을 추가할 수 있습니다.

## 관련 문서

* [데이터 소스 구성](configure-data-sources.md)
* [양식 데이터 모델(FDM) 만들기](create-form-data-models.md)
* [양식 데이터 모델(FDM) 작업](work-with-form-data-model.md)
* [양식 데이터 모델(FDM) 사용](using-form-data-model.md)


## 추가 리소스

{{see-also-rule-editor}}
