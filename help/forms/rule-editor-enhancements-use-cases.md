---
title: 이 문서에서는 핵심 구성 요소를 기반으로 하는 적응형 양식의 규칙 편집기에 대한 다양한 사용 사례를 간략하게 설명합니다.
description: 이 문서에서는 핵심 구성 요소를 기반으로 하는 적응형 양식의 규칙 편집기에 대한 다양한 사용 사례를 살펴봅니다. 또한 사용자 지정 함수를 사용하여 양식에 대한 맞춤 규칙을 만드는 방법도 소개합니다.
feature: Adaptive Forms, Core Components
role: User, Developer
level: Beginner, Intermediate
exl-id: 062ed441-6e1f-4279-9542-7c0fedc9b200
source-git-commit: 80dde7ddaa08d752391b4004d7c93e5baac9716e
workflow-type: tm+mt
source-wordcount: '1975'
ht-degree: 0%

---

# 규칙 편집기 개선 사항 및 사용 사례

<span class="preview"> <a href="https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/release-notes/prerelease.html#new-features">시험판 채널</a>에서 사용할 수 있는 시험판 기능입니다. 이러한 개선 사항은 Edge Delivery Services Forms에도 적용할 수 있습니다.

이 문서에서는 적응형 Forms의 규칙 편집기에 대한 최신 개선 사항을 소개합니다. 이러한 업데이트는 사용자 지정 코드를 작성하지 않고도 양식 동작을 보다 쉽게 정의하고, 보다 역동적이고 반응적이며 개인화된 양식 경험을 만들 수 있도록 설계되었습니다.

아래 표에는 적응형 Forms의 규칙 편집기에 대한 최근 개선 사항과 간단한 설명, 각 기능의 주요 이점이 나열되어 있습니다.

| 개선 사항 | 설명 | 장점 |
|---|----|---|
| **`validate()` 메서드를 사용하여 유효성 검사** | 함수 목록에서 개별 필드, 패널 또는 전체 양식의 유효성을 검사할 수 있습니다. | - 패널, 필드 또는 양식 수준 <br>에서 세분화된 유효성 검사 - 타깃팅된 오류 메시징으로 사용자 경험 개선 <br> - 불완전한 데이터로 진행 방지 <br> - 양식 제출 오류 감소 |
| **DOR 다운로드** | 규칙 편집기에서 기록 문서(DoR)를 다운로드할 수 있는 기본 함수. | - DoR <br>을(를) 다운로드하는 데 사용자 지정 개발이 필요하지 않음 - 여러 양식에서 일관된 다운로드 경험 |
| **동적 변수** | 사용자 입력 또는 기타 조건에 따라 변경되는 변수를 사용하여 규칙을 만듭니다. | - 유연한 규칙 조건 사용 <br> - 중복 논리의 필요성 감소 <br> - 숨겨진 필드를 만들 필요 없음 |
| **사용자 지정 이벤트 기반 규칙** | 표준 트리거 이외의 사용자 지정 이벤트에 응답하는 규칙을 정의합니다. | - 고급 사용 사례 지원 <br> - 규칙 실행 시기 및 방법에 대한 제어 강화 <br> - 상호 작용 향상 |
| **컨텍스트 인식 반복 가능 패널 실행** | 이제 규칙이 마지막 인스턴스만 실행되는 대신 반복된 각 패널에 대해 올바른 컨텍스트에서 실행됩니다. | - 각 반복 인스턴스 <br>에 대한 정확한 규칙 적용 - 동적 섹션의 오류 감소 <br> - 반복되는 콘텐츠로 사용자 경험 개선 |
| **쿼리 문자열, UTM 및 브라우저 매개 변수 지원** | URL 매개 변수 또는 브라우저별 값에 따라 양식 동작을 조정하는 규칙을 만듭니다. | - 소스 또는 환경을 기반으로 개인화를 활성화합니다. <br> - 마케팅 또는 추적별 흐름에 유용함 <br> - 추가적인 스크립팅이나 사용자 지정이 필요 없음 |

>[!NOTE]
>
> 향상된 규칙 편집기 기능은 Edge Delivery Services Forms에도 적용할 수 있습니다.

이제 특정 사용 사례와 함께 각 방법을 자세히 살펴보고 이러한 기능을 사용하여 사용자에게 개인화된 경험을 제공하는 방법을 이해하도록 하겠습니다

## 함수 목록의 유효성 검사 메서드

함수 목록에서 **validate()** 메서드를 사용하여 패널, 필드 또는 전체 양식의 유효성을 검사할 수 있는 유효성 검사 기능이 개선되었습니다. 예를 들어 여러 단계 대출 신청 양식에서 사용자가 다음 단계로 진행할 수 있도록 허용하기 전에 다른 섹션의 유효성을 검사해야 합니다.

**시나리오:** 금융 기관에서는 다음과 같은 다른 섹션을 완료해야 하는 여러 단계 대출 신청 양식을 제공합니다.

* 개인 세부 정보
* 고용 세부 정보
* 대출 세부 정보
* 검토 및 제출

사용자가 한 단계에서 다음 단계로 이동하기 전에 양식에서 현재 섹션 내의 필드만 유효성을 검사해야 합니다. 예를 들어 &quot;개인 세부 정보&quot;의 모든 필수 필드를 올바르게 입력하지 않는 한 사용자는 &quot;고용 세부 정보&quot;로 진행할 수 없습니다.

**규칙 편집기에서 validate()를 사용하여 구현**

각 패널의 **다음** 단추는 **validate()** 메서드를 사용하여 규칙을 트리거합니다. 규칙은 현재 패널의 모든 필드가 유효한지 확인합니다. 유효성 검사가 성공하면 양식이 다음 패널로 이동합니다. 그렇지 않은 경우 오류 메시지가 표시되어 사용자가 입력을 수정하도록 안내합니다.

아래 스크린샷에는 **다음** 단추에 적용된 규칙이 표시됩니다.

![다음 단추 유효성 검사](/help/forms/assets/validate-next.png)

위의 규칙에서 **다음** 단추는 **개인 정보** 섹션의 필드가 올바른지 확인합니다. 세부 정보가 올바르지 않으면 포커스가 **개인 세부 정보** 패널의 **이름** 필드로 이동합니다.

![출력](/help/forms/assets/valid-output.png)

>[!NOTE]
>
>양식, 조각 또는 개별 필드에 **validate()** 메서드를 사용할 수 있습니다. 조각이 양식에 포함된 경우, 유효성 검사 컨텍스트에서 양식과 조각이 모두 옵션으로 나타납니다. 이 경우 조각은 해당 내의 필드를 참조하고, 양식은 조각이 포함된 상위 양식을 참조합니다.

## 규칙 편집기에서 DownloadDor as OOTB 함수

규칙 편집기에서 **DownloadDor()** 기본 제공(OOTB) 함수를 사용하면 양식이 기록 문서 를 생성하도록 구성된 경우 사용자가 기록 문서 를 다운로드할 수 있습니다.

>[!NOTE]
>
>기록 문서에 대해 양식이 구성되지 않은 경우 **downloadDoR()** 함수를 사용하는 규칙이 단추에 적용되면 오류 메시지가 표시됩니다.

**시나리오**: 정부 기관에서 인증서 발급을 위한 디지털 응용 프로그램 양식을 제공합니다. 지원자들은 양식을 제출한 후 기록을 위해 완성된 양식 사본을 요구하거나 다른 부서와 공유해야 하는 경우가 많습니다. 사용자 경험을 개선하기 위해, 이 기관은 지원자들에게 제출 직후 또는 최종 제출 전 어느 단계에서든 기록 문서(DoR)를 다운로드할 수 있는 옵션을 제공하고자 합니다.

**규칙 편집기에서 DownloadDor()를 사용하여 구현**

**Download** 단추가 규칙 편집기를 사용하여 양식에 추가되었습니다. 단추를 클릭할 때 **DownloadDor()** 함수를 트리거하도록 규칙이 구성되어 있습니다.

아래 스크린샷에는 **다운로드** 단추에 적용된 규칙이 표시됩니다.

![다운로드 단추 규칙](/help/forms/assets/download-button-rule.png)

>[!NOTE]
>
> **입력** 필드를 사용하면 다운로드 가능한 문서의 파일 이름을 지정할 수 있습니다. 선택적 매개 변수입니다.

양식이 DoR 생성을 위해 구성된 경우 이 함수는 사용자 지정 함수 없이도 즉시 PDF을 생성하고 다운로드합니다.

![기록 문서](/help/forms/assets/download-dor-output.png)

## 규칙에서 동적 변수 지원

향상된 규칙 편집기는 동적(임시) 변수 생성 및 사용을 지원합니다. 이러한 변수는 기본 제공 **변수 값 설정** 및 **변수 값 가져오기** 함수를 사용하여 양식의 라이프사이클 전체에서 설정하고 검색할 수 있습니다.
다음 변수는

* 양식 데이터로 제출되지 않습니다.
* 중간 또는 계산된 값을 보유할 수 있습니다.
* 조건부 논리 및 작업에 사용할 수 있습니다.

**시나리오**: 온라인 쇼핑 양식을 통해 제품을 선택하고 수량을 입력한 다음 배송 국가를 선택할 수 있습니다. 제품 가격은 양식 필드를 통해 캡처한 고정 값이며 배송 요금은 선택한 국가에 따라 동적으로 달라집니다.

숨겨진 필드가 있는 양식에 혼란을 주지 않도록 하기 위해 기업은 운송 비용을 임시 변수에 저장하고 실시간 계산에 사용하기로 합니다.

**규칙 편집기에서 변수 값 설정 및 변수 값 가져오기 함수를 사용하는 구현**

>[!VIDEO](https://video.tv.adobe.com/v/3471607/get-set-variable-final-video/?quality=12&learn=on)

**변수 값 설정** 함수를 사용하여 **Address** 조각에 **extracharge**(이)라는 임시 변수를 할당하는 규칙을 구성했습니다. 이 변수의 값은 선택한 국가를 기준으로 동적으로 변경됩니다. 예:

* 사용자가 미국을 선택하면 **extracharge**&#x200B;이(가) 500으로 설정됩니다.
* 다른 국가의 경우 **extracharge**&#x200B;이(가) 100으로 설정되어 있습니다.

![변수 값 설정](/help/forms/assets/setvalue.png)

나중에 **총 배송 비용**&#x200B;이 계산되면 **변수 값 가져오기** 함수를 사용하여 **extracharge**&#x200B;의 값을 검색합니다. 이 값은 **제품 가격 × 제품 수량**&#x200B;에 추가되어 단추 클릭에 대한 최종 지불 금액을 계산합니다.

![변수 값 가져오기](/help/forms/assets/getvalue.png)

사용자가 국가 또는 수량을 변경할 때 제품 비용과 배송 비용을 모두 반영하도록 **총 배송 비용** 필드가 동적으로 업데이트됩니다.
![출력](/help/forms/assets/getsetvalue-output.png)

>[!NOTE]
>
> When 조건에 **변수 값 가져오기** 함수를 추가할 수도 있습니다.
> > ![조건](/help/forms/assets/when-get-variable.png){width=50%,height=50%, align=center}인 경우 변수 값 가져오기 함수

이 접근 방식을 사용하면 양식에 필드를 추가하지 않고 구조를 깔끔하고 사용자 친화적으로 동적으로 실시간 계산을 수행할 수 있습니다.

## 사용자 지정 이벤트 기반 규칙 지원

향상된 규칙 편집기는 **이벤트 발송** 및 **트리거 이벤트 설정** 함수를 사용하여 사용자 지정 이벤트 처리를 지원합니다. 이러한 기능을 사용하면 사용자 지정 이벤트를 내보내고 수신하여 양식의 다양한 부분을 통신할 수 있으므로 특정 필드에 작업을 밀접하게 연결하지 않고도 보다 깔끔하고 모듈식 논리를 사용할 수 있습니다.

**시나리오**: 로그인 양식은 **사용자 이름 입력** 및 **암호 입력** 필드가 포함된 재사용 가능한 로그인 조각을 사용하여 작성되었습니다. 사용자가 올바른 자격 증명을 제공하면 양식이 입력 내용을 확인하고 **OTP 가져오기** 프로세스를 시작합니다. 사용자가 유효한 OTP를 입력하면 해당 페이지로 리디렉션됩니다.

양식에 필드에 논리를 직접 바인딩하는 대신 **디스패치 이벤트** 및 **트리거 이벤트 설정**&#x200B;과(와) 함께 이벤트 기반 접근 방식을 사용하여 모듈화와 유지 관리 기능을 개선합니다.

**디스패치 이벤트 및 트리거 시 이벤트를 사용한 구현**


>[!VIDEO](https://video.tv.adobe.com/v/3471610/dispatch-trigger-final/?quality=12&learn=on)

로그인 조각이 사용자 이름 및 암호에 대해 사전 정의된 필드가 포함된 양식에 추가됩니다. **OTP 가져오기** 단추에 규칙이 구성되어 OTP를 입력하고 확인하는 입력 필드가 포함된 **유효성 검사 패널**&#x200B;을 표시합니다.

![OTP 규칙 가져오기](/help/forms/assets/get-otp-rule.png)

**유효성 검사 패널**&#x200B;에서 [유효성 검사] 단추에 규칙이 구성되어 있습니다. API 통합은 **OTP 입력** 필드에 입력한 OTP의 유효성을 검사하는 데 사용됩니다. 유효성 검사가 성공하면 API 응답이 포함된 이벤트 페이로드로 이름이 **LoggedIn**&#x200B;인 **디스패치 이벤트**&#x200B;가 트리거됩니다.

![트리거 이벤트 규칙에서](/help/forms/assets/trigger-event-rule.png)

양식 수준에서 **LoggedIn** 이벤트를 수신하도록 규칙이 구성되어 있습니다. 이 이벤트가 트리거되면 규칙이 리디렉션 메시지를 표시하고 사용자를 대시보드 페이지로 이동합니다.

![디스패치 이벤트 규칙](/help/forms/assets/dispatch-event-rule.png)

사용자가 올바른 자격 증명과 유효한 OTP로 양식을 제출하면 로그인이 성공하고 사용자가 대시보드로 리디렉션됩니다.

개발자가 규칙 편집기의 조건으로 사용할 수 있는 사용자 지정 이벤트를 만들고 트리거할 수 있는 사용자 지정 이벤트 지원.

## 반복 가능한 패널에 대한 컨텍스트 기반 규칙 실행

적응형 Forms은 반복 가능한 패널에 대한 컨텍스트 인식 규칙 실행을 지원합니다. 이렇게 하면 모든 인스턴스에 영향을 주거나 마지막 인스턴스의 기본값을 설정하는 대신 사용자가 상호 작용하는 패널 인스턴스에 특별히 규칙을 적용할 수 있습니다.

**시나리오**: 제품 주문 양식을 사용하여 사용자가 별도의 패널에 여러 제품을 추가할 수 있습니다. 각 패널에는 **제품 수** 필드와 **총 비용** 필드가 있습니다. 사용자가 제품의 수량을 업데이트할 때 양식은 총 가격을 다시 계산해야 하지만 다른 모든 패널에 대해서는 계산하지 않고 특정 패널에 대해서만 계산됩니다.

**규칙 편집기에서 컨텍스트 인식 규칙을 사용하여 구현**

반복 가능한 제품 패널 내의 **제품 수** 필드에 규칙이 구성되어 있습니다.

아래 스크린샷에는 반복 가능한 제품 패널 내의 **제품 수** 필드에 대한 규칙이 표시됩니다.

![제품 규칙 수](/help/forms/assets/number-of-product-rule.png)

수량이 변경되면 규칙은 선택한 제품의 단가를 가져오고 해당 패널에 대한 총 비용만 계산합니다.

![컨텍스트 인식 규칙 출력](/help/forms/assets/context-aware-rule-output.png)

## 적응형 Forms의 URL 및 브라우저 매개 변수 기반 규칙

적응형 Forms은 양식 URL을 통해 전달되거나 사용자의 브라우저 환경에서 파생된 외부 매개 변수를 사용하여 동적 규칙 실행을 지원합니다. 이를 통해 방문자의 위치 또는 사용 중인 디바이스를 기반으로 개인화되고 컨텍스트 인식 양식 경험을 사용할 수 있습니다.

## 허용된 매개 변수 유형

| 매개 변수 유형 | 지원되는 옵션 | 설명 | 예제 값 |
| --- | --- | --- | ---|
| 쿼리 매개 변수 | `ref`(문자열 값만) | `?` 이후 URL의 일반 키-값 쌍 | `?ref=partner123` |
| UTM 매개 변수 | UTM Source<br>UTM Medium<br>UTM 캠페인<br>UTM 용어<br>UTM 컨텐츠 | 캠페인 추적에 사용되는 특수 쿼리 매개 변수 | `?utm_source=google&utm_medium=email` |
| URL 매개 변수 | 호스트 이름<br>경로 | 양식 URL의 구조적 구성 요소 추출 | `hostname=www.example.com`, `path=/signup` |
| 브라우저 매개 변수 | 브라우저 에이전트<br>브라우저 언어<br>브라우저 플랫폼 | 사용자의 브라우저 또는 장치에서 파생된 값 | `Browser Agent=Mozilla`, `Language=en-US` |

**시나리오**: 리드 생성 양식은 트래픽 소스에 따라 환영 메시지를 조정해야 합니다. 사용자가 Google 광고 캠페인(URL에서 utm_source=google 사용)을 통해 양식에 도달하면 양식에 사용자 정의 인사말이 표시되어야 합니다.

**UTM 매개 변수를 사용한 구현**

Google 사용자에게 사용자 지정 메시지를 표시하는 텍스트 필드에 규칙이 구성되어 있으며 **utm_source** 매개 변수를 사용합니다.

아래 스크린샷에는 텍스트 메시지에 구성된 규칙이 표시됩니다.

문자 메시지의 ![규칙](/help/forms/assets/utm-param-rule.png)

**utm_source** 매개 변수 값이 &quot;google&quot;인 경우 &quot;Google 사용자 안녕하세요, Campaign Ad에 오신 것을 환영합니다!&quot;라는 사용자 지정 메시지입니다. 이 표시됩니다.

![utm-param-output](/help/forms/assets/utm-param-output.png)

이렇게 하면 마케터는 수동 필드 입력이나 사용자 정의 스크립팅 없이 양식으로 가져온 캠페인을 기반으로 사용자에게 관련 콘텐츠를 전달할 수 있습니다.

이러한 향상된 기능은 적응형 Forms 규칙 편집기의 기능을 크게 확장하여 개발자에게 보다 동적이고 대화형 및 지능형 양식을 만들 수 있는 강력한 도구를 제공합니다. 각 개선 사항은 기술 사용자와 비기술 사용자 모두가 규칙 편집기에 액세스할 수 있도록 하는 사용 편의성을 유지하면서 특정 비즈니스 요구 사항을 해결합니다.

## 추가 리소스

{{see-also-rule-editor}}
